<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
          integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <title>Wind Map</title>
</head>

<body>
<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="//d3js.org/topojson.v1.min.js"></script>

<script>
    var width = 1000, height = 600;
    var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height);
    var projection = d3.geo.mercator()
        .center([14.6, 62.1])  // Somewhere in the middle of Sweden, https://sv.wikipedia.org/wiki/Sveriges_geografiska_mittpunkt
        .scale(1000)
        .translate([width / 2, height / 2]);
    var path = d3.geo.path()
        .projection(projection);

    d3.json("swe.json", function (error, se) {
        // We read the vector data in topoJSON format, generated from shapefile (see readme)
        svg.selectAll("county")
            .data(topojson.feature(se, se.objects.subunits).features)
            .enter().append("path")
            .attr("style", "fill: grey")
            .attr("d", path)
            .on("mouseover", handleMouseOver)
            .on("mouseout", handleMouseOut);

    });

    function handleMouseOver(d) {
        d3.select(this).attr("style", "fill: lightgrey");
        svg.append("text")
            //.attr({id: "t" + d.id, x: d3.event.pageX, y: d3.event.pageY})
            .attr({id: "t" + d.id, x: 100, y: 100})
            .text(d.id);
    }

    function handleMouseOut(d) {
        d3.select(this).attr("style", "fill: grey");
        d3.select("#t" + d.id).remove();
    }

</script>
</body>
</html>